Diafilm
=======

Stack
-----

* AngularJS
* Twitter Bootstrap
* jQuery UI Slider
* Lawnchair
* Brunch


Details
-------

## Build tool

The *Diafilm* project uses the [Brunch](http://brunch.io/) build tool, to automatically concatenate all the scripts and stylesheets in the project, as well as to compile SASS. This eliminates the need for a dependency loader, and also provides a tools for building a `production` version of the app.

By default, the scripts and stylesheets are just concatenated, and not minified. You can minify them, for a `production` version, by using `brunch build --minify`.

## Image storage

Beside having the ability to add images by entering their URL in the box at the bottom, you can also add images from your local filesystem, by dragging and dropping them in the photos box, to the right of the page.

Images that you drag and drop in the page will be stored in the browser, using the IndexedDB object storage, for browsers that support it, while falling back to DOM storage (localStorage) for browsers that don't provide support for it.

Besides a number of other advantages, we've chosen the IndexedDB storage for this use case because of the almost unlimited amount of storage available to the app.

Images from the local system are saved as base64 strings, and, after uploading, are available even offline.

Images from external URLs are not completely stored for offline use, because of cross-domain restrictions, and are only stored as URL location strings.

Structure
---------

## /app

The `/app` folder contains all the actual files for the app, including the various Angular components such as controllers, directives, and so on.
The JavaScript files are concatenated by Brunch in a single file `/public/javascripts/app.js`, while the SASS files are also compiled and concatenated in a single file in `/public/stylesheets/app.css`.

## /public

All the files in the `/public` folder are generated by Brunch, from the `/app` and `/vendor` folders. 

## /vendor

The `/vendor` folder contains all the various 3rd party files such as the AngularJS and Bootstrap files. These are concatenated along with the files in the `/app` folder, to the `/public` folder.


Quick Run
---------

Because the partials/templates are loaded dynamically, you'll need to run the app in a web server, such as Apache.

Please point your configuration file to the `index.html` file in the `/public` folder.


Development
-----------

1. Install [Node.js](http://nodejs.org/) with NPM

`npm` is the Node.js package manager, and is included with the default installation of Node.js. 

2. Install [Brunch](http://brunch.io/) with:

	npm install -g brunch

2. In project root run:

	npm install
	
3. In project root run:

	brunch watch --server
	
4. The app will be available at:

	http://localhost:3333/

